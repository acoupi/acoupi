
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://acoupi.github.io/acoupi/reference/programs/">
      
      
        <link rel="prev" href="../tasks/">
      
      
        <link rel="next" href="../system/">
      
      
      <link rel="icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Programs - acoupi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Mulish";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0NZT4X5LY6"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-0NZT4X5LY6",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-0NZT4X5LY6",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#programs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="acoupi" class="md-header__button md-logo" aria-label="acoupi" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            acoupi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Programs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="acoupi" class="md-nav__button md-logo" aria-label="acoupi" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    acoupi
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorials/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../howtoguide/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    How-To Guides
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howtoguide/programs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a custom program
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howtoguide/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create new components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howtoguide/data_schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create new data schema
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../explanation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Explanation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Explanation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/data_schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/programs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Programs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Programs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;workers
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" workers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.DEFAULT_WORKER_CONFIG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_WORKER_CONFIG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.AcoupiWorker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiWorker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.WorkerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WorkerConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.core.base" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;base
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.B" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;B
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.C" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;C
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.ProgramConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ProgramConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.AcoupiProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.InvalidAcoupiConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InvalidAcoupiConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.NoUserPrompt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NoUserPrompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;programs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" programs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.DEFAULT_WORKER_CONFIG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_WORKER_CONFIG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.ProgramConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ProgramConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.AcoupiProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.AcoupiWorker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiWorker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.NoUserPrompt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NoUserPrompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.WorkerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WorkerConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.templates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;templates
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.AudioConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AudioConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.BasicProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.BasicProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionsConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionsConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingConfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.PathsConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PathsConfiguration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminology
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    About the Project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            About the Project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;workers
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" workers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.DEFAULT_WORKER_CONFIG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_WORKER_CONFIG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.AcoupiWorker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiWorker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.workers.WorkerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WorkerConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.core.base" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;base
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.B" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;B
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.C" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;C
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.ProgramConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ProgramConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.AcoupiProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.InvalidAcoupiConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InvalidAcoupiConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.core.base.NoUserPrompt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NoUserPrompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;programs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" programs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.DEFAULT_WORKER_CONFIG" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DEFAULT_WORKER_CONFIG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.ProgramConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ProgramConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.AcoupiProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.AcoupiWorker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AcoupiWorker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.NoUserPrompt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NoUserPrompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.WorkerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WorkerConfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acoupi.programs.templates" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;templates
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.AudioConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AudioConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.BasicProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.BasicProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.DetectionsConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DetectionsConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingConfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingProgram" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingProgram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.MessagingProgramConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MessagingProgramConfiguration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoupi.programs.templates.PathsConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PathsConfiguration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div><h1 id="programs">Programs<a class="headerlink" href="#programs" title="Permanent link">#</a></h1>


<div class="doc doc-object doc-module">



<h2 id="acoupi.programs.core.workers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>acoupi.programs.core.workers</code>


<a href="#acoupi.programs.core.workers" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

        <p>Acoupi Workers Module.</p>
<p>This module provides the functionality for managing and configuring
AcoupiWorkers, which are essential components of the Acoupi framework for
building smart acoustic sensors. AcoupiWorkers are responsible for executing
tasks related to acoustic sensing and analysis. Each Acoupi program relies on a
set of AcoupiWorkers, each with a unique name and configuration.</p>
<p>The AcoupiWorker is implemented as a Celery worker, which listens to designated
queues for task execution and coordination.</p>



  <div class="doc doc-children">





<h3 id="acoupi.programs.core.workers-attributes">Attributes<a href="#acoupi.programs.core.workers-attributes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.core.workers.DEFAULT_WORKER_CONFIG" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">DEFAULT_WORKER_CONFIG</span> <span class="o">=</span> <span class="n">WorkerConfig</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="p">[</span><span class="n">AcoupiWorker</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'recording'</span><span class="p">,</span> <span class="n">queues</span><span class="o">=</span><span class="p">[</span><span class="s1">'recording'</span><span class="p">],</span> <span class="n">concurrency</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">AcoupiWorker</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'default'</span><span class="p">,</span> <span class="n">queues</span><span class="o">=</span><span class="p">[</span><span class="s1">'celery'</span><span class="p">])])</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.workers.DEFAULT_WORKER_CONFIG" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>
<h3 id="acoupi.programs.core.workers-classes">Classes<a href="#acoupi.programs.core.workers-classes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.core.workers.AcoupiWorker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>AcoupiWorker</code>


<a href="#acoupi.programs.core.workers.AcoupiWorker" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>AcoupiWorker Class.</p>
<p>Represents an individual worker instance within the Acoupi framework. It is
responsible for executing tasks related to acoustic sensing and analysis.
Each worker is implemented as a Celery worker and listens to designated
queues for task execution and coordination.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.core.workers.AcoupiWorker-attributes">Attributes<a href="#acoupi.programs.core.workers.AcoupiWorker-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.workers.AcoupiWorker.concurrency" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">concurrency</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.workers.AcoupiWorker.concurrency" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Number of concurrent tasks the worker should run.</p>
<p>If None, the worker will run as many tasks as possible.</p>
<p>This setting should be set to 1 if the worker if at most
one task can be run at a time. This is useful for tasks
that are not thread safe or that require use of a resource
that can only be used by one task at a time.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.workers.AcoupiWorker.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.workers.AcoupiWorker.name" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Name of the worker. Should be unique among different workers.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.workers.AcoupiWorker.queues" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">queues</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.workers.AcoupiWorker.queues" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Queues the worker should listen to. </p>
<p>If empty, the worker will listen to all queues.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.core.workers.WorkerConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>WorkerConfig</code>


<a href="#acoupi.programs.core.workers.WorkerConfig" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>WorkerConfig Class.</p>
<p>A configuration class used to define the set of workers to be used for an
Acoupi program. It allows you to specify the details of each worker, such
as its name, concurrency level, and the queues it listens to.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.core.workers.WorkerConfig-attributes">Attributes<a href="#acoupi.programs.core.workers.WorkerConfig-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.workers.WorkerConfig.workers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">workers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AcoupiWorker</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.workers.WorkerConfig.workers" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<h5 id="acoupi.programs.core.workers.WorkerConfig-functions">Functions<a href="#acoupi.programs.core.workers.WorkerConfig-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.workers.WorkerConfig.unique_worker_names" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">unique_worker_names</span><span class="p">(</span><span class="n">workers</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.workers.WorkerConfig.unique_worker_names" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Validate that all workers have unique names.</p>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="acoupi.programs.core.base" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>acoupi.programs.core.base</code>


<a href="#acoupi.programs.core.base" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

        <p>Definition of what a program is.</p>



  <div class="doc doc-children">





<h3 id="acoupi.programs.core.base-attributes">Attributes<a href="#acoupi.programs.core.base-attributes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.core.base.B" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">B</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'B'</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.B" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.core.base.C" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">C</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'C'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">covariant</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">contravariant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.C" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.core.base.ProgramConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">ProgramConfig</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'ProgramConfig'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">BaseModel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.ProgramConfig" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>
<h3 id="acoupi.programs.core.base-classes">Classes<a href="#acoupi.programs.core.base-classes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.core.base.AcoupiProgram" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>              <code class="highlight language-python"><span class="n">AcoupiProgram</span><span class="p">(</span><span class="n">program_config</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3.11/library/abc.html#abc.ABC">ABC</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3.11/library/typing.html#typing.Generic">Generic</a>[<a class="autorefs autorefs-internal" title="acoupi.programs.core.base.ProgramConfig" href="#acoupi.programs.core.base.ProgramConfig">ProgramConfig</a>]</code></p>


        <p>A program is a collection of tasks.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.core.base.AcoupiProgram-attributes">Attributes<a href="#acoupi.programs.core.base.AcoupiProgram-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.app" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">app</span><span class="p">:</span> <span class="n">Celery</span> <span class="o">=</span> <span class="n">app</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.app" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">ProgramConfig</span> <span class="o">=</span> <span class="n">program_config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.config_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">config_schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ProgramConfig</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.config_schema" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.logger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">get_task_logger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.logger" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.tasks" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">tasks</span> <span class="o">=</span> <span class="p">{}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.tasks" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.core.base.AcoupiProgram.worker_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">worker_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkerConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.worker_config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<h5 id="acoupi.programs.core.base.AcoupiProgram-functions">Functions<a href="#acoupi.programs.core.base.AcoupiProgram-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.add_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_task</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.add_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Add a task to the program.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.add_task_to_queue" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_task_to_queue</span><span class="p">(</span><span class="n">task_name</span><span class="p">,</span> <span class="n">queue</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.add_task_to_queue" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Add a task to a queue.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.check" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.check" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Check the configurations.</p>
<p>This method should raise an exception if the configurations are invalid.
The exception should be an instance of HealthCheckError.</p>
<p>User defined programs should override this method if they want to
validate their configurations. The default implementation does nothing.</p>
<p>Ideally this method should be called before a deployment is made.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.get_config_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_config_schema</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.get_config_schema" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the config class.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.get_queue_names" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_queue_names</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.get_queue_names" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the queue names.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.get_worker_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_worker_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.core.base.AcoupiProgram.get_worker_config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the worker config class.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.on_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_end</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.on_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>End a deployment.</p>
<p>Called when the user ends a deployment.</p>
<p>This method should be overridden by user defined programs if they want
to do something when the program ends. The default implementation
does nothing.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.on_start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_start</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.on_start" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Start a deployment.</p>
<p>Called when the user starts a deployment.</p>
<p>This method should be overridden by user defined programs if they want
to do something when the program starts. The default implementation
does nothing.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.core.base.AcoupiProgram.setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.core.base.AcoupiProgram.setup" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Set up the program.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.core.base.InvalidAcoupiConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>InvalidAcoupiConfiguration</code>


<a href="#acoupi.programs.core.base.InvalidAcoupiConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/exceptions.html#ValueError">ValueError</a></code></p>


        <p>Raised when a configuration is invalid.</p>


    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.core.base.NoUserPrompt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NoUserPrompt</code>


<a href="#acoupi.programs.core.base.NoUserPrompt" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">


        <p>No user prompt annotation.</p>
<p>Use this class to annotate fields that should not be prompted to the user.</p>


    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="acoupi.programs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>acoupi.programs</code>


<a href="#acoupi.programs" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">



  <div class="doc doc-children">





<h3 id="acoupi.programs-attributes">Attributes<a href="#acoupi.programs-attributes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.DEFAULT_WORKER_CONFIG" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">DEFAULT_WORKER_CONFIG</span> <span class="o">=</span> <span class="n">WorkerConfig</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="p">[</span><span class="n">AcoupiWorker</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'recording'</span><span class="p">,</span> <span class="n">queues</span><span class="o">=</span><span class="p">[</span><span class="s1">'recording'</span><span class="p">],</span> <span class="n">concurrency</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">AcoupiWorker</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'default'</span><span class="p">,</span> <span class="n">queues</span><span class="o">=</span><span class="p">[</span><span class="s1">'celery'</span><span class="p">])])</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.DEFAULT_WORKER_CONFIG" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="acoupi.programs.ProgramConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">ProgramConfig</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'ProgramConfig'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">BaseModel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#acoupi.programs.ProgramConfig" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
    </div>

</div>
<h3 id="acoupi.programs-classes">Classes<a href="#acoupi.programs-classes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.AcoupiProgram" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>              <code class="highlight language-python"><span class="n">AcoupiProgram</span><span class="p">(</span><span class="n">program_config</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3.11/library/abc.html#abc.ABC">ABC</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3.11/library/typing.html#typing.Generic">Generic</a>[<a class="autorefs autorefs-internal" title="acoupi.programs.core.base.ProgramConfig" href="#acoupi.programs.core.base.ProgramConfig">ProgramConfig</a>]</code></p>


        <p>A program is a collection of tasks.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.AcoupiProgram-attributes">Attributes<a href="#acoupi.programs.AcoupiProgram-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.app" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">app</span><span class="p">:</span> <span class="n">Celery</span> <span class="o">=</span> <span class="n">app</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.app" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">ProgramConfig</span> <span class="o">=</span> <span class="n">program_config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.config_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">config_schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ProgramConfig</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.config_schema" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.logger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">get_task_logger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.logger" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.tasks" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">tasks</span> <span class="o">=</span> <span class="p">{}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.tasks" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiProgram.worker_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">worker_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkerConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.worker_config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<h5 id="acoupi.programs.AcoupiProgram-functions">Functions<a href="#acoupi.programs.AcoupiProgram-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.add_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_task</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">queue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.add_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Add a task to the program.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.add_task_to_queue" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_task_to_queue</span><span class="p">(</span><span class="n">task_name</span><span class="p">,</span> <span class="n">queue</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.add_task_to_queue" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Add a task to a queue.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.check" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.check" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Check the configurations.</p>
<p>This method should raise an exception if the configurations are invalid.
The exception should be an instance of HealthCheckError.</p>
<p>User defined programs should override this method if they want to
validate their configurations. The default implementation does nothing.</p>
<p>Ideally this method should be called before a deployment is made.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.get_config_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_config_schema</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.get_config_schema" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the config class.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.get_queue_names" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_queue_names</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.get_queue_names" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the queue names.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.get_worker_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_worker_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#acoupi.programs.AcoupiProgram.get_worker_config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the worker config class.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.on_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_end</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.on_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>End a deployment.</p>
<p>Called when the user ends a deployment.</p>
<p>This method should be overridden by user defined programs if they want
to do something when the program ends. The default implementation
does nothing.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.on_start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_start</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.on_start" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Start a deployment.</p>
<p>Called when the user starts a deployment.</p>
<p>This method should be overridden by user defined programs if they want
to do something when the program starts. The default implementation
does nothing.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.AcoupiProgram.setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.AcoupiProgram.setup" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Set up the program.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.AcoupiWorker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>AcoupiWorker</code>


<a href="#acoupi.programs.AcoupiWorker" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>AcoupiWorker Class.</p>
<p>Represents an individual worker instance within the Acoupi framework. It is
responsible for executing tasks related to acoustic sensing and analysis.
Each worker is implemented as a Celery worker and listens to designated
queues for task execution and coordination.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.AcoupiWorker-attributes">Attributes<a href="#acoupi.programs.AcoupiWorker-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiWorker.concurrency" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">concurrency</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiWorker.concurrency" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Number of concurrent tasks the worker should run.</p>
<p>If None, the worker will run as many tasks as possible.</p>
<p>This setting should be set to 1 if the worker if at most
one task can be run at a time. This is useful for tasks
that are not thread safe or that require use of a resource
that can only be used by one task at a time.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiWorker.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiWorker.name" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Name of the worker. Should be unique among different workers.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.AcoupiWorker.queues" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">queues</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.AcoupiWorker.queues" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Queues the worker should listen to. </p>
<p>If empty, the worker will listen to all queues.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.NoUserPrompt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NoUserPrompt</code>


<a href="#acoupi.programs.NoUserPrompt" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">


        <p>No user prompt annotation.</p>
<p>Use this class to annotate fields that should not be prompted to the user.</p>


    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.WorkerConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>WorkerConfig</code>


<a href="#acoupi.programs.WorkerConfig" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>WorkerConfig Class.</p>
<p>A configuration class used to define the set of workers to be used for an
Acoupi program. It allows you to specify the details of each worker, such
as its name, concurrency level, and the queues it listens to.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.WorkerConfig-attributes">Attributes<a href="#acoupi.programs.WorkerConfig-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.WorkerConfig.workers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">workers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AcoupiWorker</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.WorkerConfig.workers" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<h5 id="acoupi.programs.WorkerConfig-functions">Functions<a href="#acoupi.programs.WorkerConfig-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.WorkerConfig.unique_worker_names" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">unique_worker_names</span><span class="p">(</span><span class="n">workers</span><span class="p">)</span></code>

<a href="#acoupi.programs.WorkerConfig.unique_worker_names" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Validate that all workers have unique names.</p>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="acoupi.programs.templates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>acoupi.programs.templates</code>


<a href="#acoupi.programs.templates" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

        <p>Acoupi program templates.</p>
<p>This module provides base classes and configuration schemas to simplify the
creation of Acoupi programs.</p>
<p>Available Templates:</p>
<ul>
<li><strong>Basic Program:</strong> Provides a foundation for building Acoupi programs,
  including features for audio recording, metadata storage, and file management.</li>
<li>Base class: <code>BasicProgram</code></li>
<li>Configuration schema: <code>BasicProgramConfiguration</code></li>
<li><strong>Messaging Program:</strong> Extends the <code>BasicProgram</code> with messaging
  capabilities, enabling programs to send messages and heartbeats via HTTP or
  MQTT.</li>
<li>Base class: <code>MessagingProgram</code></li>
<li>Configuration schema: <code>MessagingProgramConfiguration</code></li>
<li><strong>Detection Program:</strong>  Extends the <code>MessagingProgram</code> with audio detection
  capabilities, allowing programs to run detection models on recordings and
  generate messages based on the results.</li>
<li>Base class: <code>DetectionProgram</code></li>
<li>Configuration schema: <code>DetectionProgramConfiguration</code></li>
</ul>
<p>Each template includes a base class that provides core functionality and a
configuration schema to define the program's settings.</p>
<p>For detailed usage instructions, customization options, and examples, refer
to the individual template documentation.</p>



  <div class="doc doc-children">






<h3 id="acoupi.programs.templates-classes">Classes<a href="#acoupi.programs.templates-classes" class="headerlink" title="Permanent link">#</a></h3>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.AudioConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>AudioConfiguration</code>


<a href="#acoupi.programs.templates.AudioConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Audio configuration schema.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.AudioConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.AudioConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.AudioConfiguration.chunksize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">chunksize</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NoUserPrompt</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8192</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.AudioConfiguration.chunksize" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Chunksize of audio recording.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.AudioConfiguration.duration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.AudioConfiguration.duration" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Duration of each audio recording in seconds.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.AudioConfiguration.interval" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.AudioConfiguration.interval" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Interval between each audio recording in seconds.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.AudioConfiguration.schedule_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">schedule_end</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.AudioConfiguration.schedule_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>End time for recording schedule.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.AudioConfiguration.schedule_start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">schedule_start</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.AudioConfiguration.schedule_start" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Start time for recording schedule.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.BasicProgram" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>              <code class="highlight language-python"><span class="n">BasicProgram</span><span class="p">(</span><span class="n">program_config</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="acoupi.programs.core.AcoupiProgram" href="#acoupi.programs.core.base.AcoupiProgram">AcoupiProgram</a>[<span title="acoupi.programs.templates.basic.ProgramConfig">ProgramConfig</span>]</code></p>


        <p>Basic Acoupi Program.</p>
<p>This class provides a base for creating basic Acoupi programs. It offers
essential features for audio recording, metadata storage, and file
management.</p>
<p>Components:</p>
<ul>
<li><strong>Audio Recorder:</strong> Records audio clips according to the program's
  configuration.</li>
<li><strong>Store:</strong> Provides an interface for storing and retrieving metadata
  associated with the program and its recordings.</li>
</ul>
<p>Tasks:</p>
<p>Using the components above, this class creates and manages the following
tasks:</p>
<ul>
<li><strong>Audio Recording:</strong> Records audio at regular intervals, configurable
  through the <code>audio</code> settings in the <code>BasicProgramConfiguration</code> schema.</li>
<li><strong>File Management:</strong> Periodically performs file management operations,
  such as moving recordings from temporary to permanent storage.</li>
</ul>
<p>Customization:</p>
<p>customise the program's behavior by overriding these methods:</p>
<ul>
<li><code>get_recording_conditions</code>: Define the specific conditions that must be
    met for audio recording to continue when the recording task is
    triggered by the scheduler.</li>
<li><code>get_recording_filters</code>:  Add filters to determine which recordings to
  save.</li>
<li><code>get_recording_callbacks</code>: Define actions to perform after a recording
  is made.</li>
</ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">datetime</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">acoupi</span> <span class="kn">import</span> <span class="n">components</span><span class="p">,</span> <span class="n">data</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">acoupi.programs.templates</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">BasicProgram</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">BasicProgramConfiguration</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">BasicProgramConfiguration</span><span class="p">):</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="k">pass</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="k">class</span> <span class="nc">Program</span><span class="p">(</span><span class="n">BasicProgram</span><span class="p">):</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">configuration_schema</span> <span class="o">=</span> <span class="n">Config</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="k">def</span> <span class="nf">get_recording_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">):</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="c1"># Get the default recording conditions</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_recording_conditions</span><span class="p">(</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>            <span class="n">config</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="p">)</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="k">return</span> <span class="p">[</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>            <span class="n">components</span><span class="o">.</span><span class="n">IsInInterval</span><span class="p">(</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>                <span class="n">data</span><span class="o">.</span><span class="n">TimeInterval</span><span class="p">(</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>                    <span class="n">start</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>                    <span class="n">end</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>                <span class="p">)</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>            <span class="p">),</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>            <span class="o">*</span><span class="n">conditions</span><span class="p">,</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span class="p">]</span>
</span></code></pre></div>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.BasicProgram-attributes">Attributes<a href="#acoupi.programs.templates.BasicProgram-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgram.recorder" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">recorder</span><span class="p">:</span> <span class="n">types</span><span class="o">.</span><span class="n">AudioRecorder</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgram.recorder" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgram.store" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">store</span><span class="p">:</span> <span class="n">types</span><span class="o">.</span><span class="n">Store</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgram.store" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgram.worker_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">worker_config</span> <span class="o">=</span> <span class="n">DEFAULT_WORKER_CONFIG</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgram.worker_config" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>

<h5 id="acoupi.programs.templates.BasicProgram-functions">Functions<a href="#acoupi.programs.templates.BasicProgram-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.check" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.check" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Check the program's components.</p>
<p>This method performs checks on the program's components to ensure
they are functioning correctly. Currently, it only checks the PyAudio
recorder if it is being used.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.configure_recorder" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">configure_recorder</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.configure_recorder" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Configure the audio recorder.</p>
<p>This method creates and configures an instance of the <code>PyAudioRecorder</code>
based on the provided configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.AudioRecorder" href="../components/#acoupi.components.types.AudioRecorder">AudioRecorder</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured audio recorder instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.configure_store" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">configure_store</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.configure_store" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Configure the metadata store.</p>
<p>This method creates and configures an instance of the <code>SqliteStore</code>
based on the provided configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.Store" href="../components/#acoupi.components.types.Store">Store</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured metadata store instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.create_file_management_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_file_management_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.create_file_management_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Create the file management task.</p>
<p>This method creates the task responsible for managing audio files.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a>[[], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file management task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.create_recording_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_recording_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.create_recording_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Create the recording task.</p>
<p>This method creates the task responsible for recording audio.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a>[[], <a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3.11/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="acoupi.data.Recording" href="../data/#acoupi.data.Recording">Recording</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The recording task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.get_file_managers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_file_managers</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.get_file_managers" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the file managers.</p>
<p>This method defines how audio recordings should be saved and managed.
It returns a list of file managers that are responsible for determining
the final storage location of each recording.</p>
<p>When a recording is marked for saving, the program iterates through the
list of file managers in order. Each manager can either:</p>
<ul>
<li>Return a path where the recording should be saved.</li>
<li>Return <code>None</code> to indicate that it cannot handle the recording,
allowing the next manager in the list to be used.</li>
</ul>
<p>By default, this method returns a list containing a single
<code>DateFileManager</code>, which saves recordings in a structured folder
hierarchy based on the recording date.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-internal" title="acoupi.components.types.RecordingSavingManager" href="../components/#acoupi.components.types.RecordingSavingManager">RecordingSavingManager</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of file manager instances.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.get_recording_callbacks" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_recording_callbacks</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.get_recording_callbacks" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the recording callbacks.</p>
<p>This method defines callbacks to be executed after a recording is
completed. By default, it returns an empty list.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3.11/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="acoupi.data.Recording" href="../data/#acoupi.data.Recording">Recording</a>]], None]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of recording callbacks.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.get_recording_conditions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_recording_conditions</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.get_recording_conditions" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the recording conditions.</p>
<p>This method defines the conditions under which audio recording should
be performed. By default, it uses the schedule defined in the
configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.RecordingCondition" href="../components/#acoupi.components.types.RecordingCondition">RecordingCondition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A recording condition.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.get_recording_filters" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_recording_filters</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.get_recording_filters" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the recording saving filters.</p>
<p>This method defines filters that determine which recordings should be
saved permanently. By default, it returns an empty list, meaning all
recordings are saved.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-internal" title="acoupi.components.types.RecordingSavingFilter" href="../components/#acoupi.components.types.RecordingSavingFilter">RecordingSavingFilter</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of recording saving filters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.get_required_models" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_required_models</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.get_required_models" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the required models for a recording to be considered ready.</p>
<p>This method specifies which bioacoustic models must process a recording
before it is considered "ready" to be moved from temporary storage.</p>
<p>By default, no models are required, meaning recordings are immediately
considered ready. However, you can override this method to define
specific models that must process the recordings based on the program's
configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of model names that are required to process a recording
before it is considered ready.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.on_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_end</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.on_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Handle program end event.</p>
<p>This method is called when the program ends. It updates the
deployment information in the metadata store, and ensure that
remaining tasks are completed before the program is stopped.</p>
<p>Tasks to check are:
- file_management_task (if implemented). Check if there are remaining
files in the temporary directory and move them to the correct directory.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.on_start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_start</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.on_start" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Handle program start event.</p>
<p>This method is called when the program starts and stores the
deployment information in the metadata store.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.register_file_management_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">register_file_management_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.register_file_management_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Register the file management task.</p>
<p>This method registers the file management task with the program's
scheduler.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.register_recording_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">register_recording_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.register_recording_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Register the recording task.</p>
<p>This method registers the recording task with the program's scheduler.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.setup" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Set up the basic program.</p>
<p>This method initialises the program's components (audio recorder,
store, and file manager), registers the recording and file management
tasks, and performs necessary setup operations.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.BasicProgram.validate_dirs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">validate_dirs</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.BasicProgram.validate_dirs" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Validate the directories used by the program.</p>
<p>This method ensures that the necessary directories for storing audio
and metadata exist. If they don't, it creates them.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.BasicProgramConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>BasicProgramConfiguration</code>


<a href="#acoupi.programs.templates.BasicProgramConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Configuration schema for a basic program.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.BasicProgramConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.BasicProgramConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgramConfiguration.microphone" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">microphone</span><span class="p">:</span> <span class="n">MicrophoneConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgramConfiguration.microphone" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Microphone configuration.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgramConfiguration.paths" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">paths</span><span class="p">:</span> <span class="n">PathsConfiguration</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">PathsConfiguration</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgramConfiguration.paths" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Data configuration.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgramConfiguration.recording" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">recording</span><span class="p">:</span> <span class="n">AudioConfiguration</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">AudioConfiguration</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgramConfiguration.recording" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Audio configuration.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.BasicProgramConfiguration.timezone" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">timezone</span><span class="p">:</span> <span class="n">TimeZoneName</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">TimeZoneName</span><span class="p">(</span><span class="s1">'Europe/London'</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.BasicProgramConfiguration.timezone" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Time zone where the device will be deployed.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.DetectionProgram" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>              <code class="highlight language-python"><span class="n">DetectionProgram</span><span class="p">(</span><span class="n">program_config</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="acoupi.programs.templates.messaging.MessagingProgram" href="#acoupi.programs.templates.MessagingProgram">MessagingProgram</a>[<span title="acoupi.programs.templates.detection.C">C</span>]</code>, <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3.11/library/abc.html#abc.ABC">ABC</a></code></p>


        <p>Detection Program.</p>
<p>This abstract class extends the <code>MessagingProgram</code> to provide a foundation
for detection programs. It includes functionality for configuring and
running a detection model, processing model outputs, and generating
messages based on detection results.</p>
<p>Components:</p>
<ul>
<li><strong>Detection Model:</strong> An audio detection model that processes recordings
  to identify specific sounds or events.</li>
</ul>
<p>Tasks:</p>
<ul>
<li><strong>Detection Task:</strong> Runs the detection model on audio recordings and
  processes the results, including:<ul>
<li>Cleaning the model output using <code>get_output_cleaners</code>. By default
this includes a threshold cleaner that filters out detections below a
specified threshold.</li>
<li>Filtering the processed output using <code>get_processing_filters</code>.</li>
<li>Generating messages based on the results using
  <code>get_message_factories</code>.</li>
</ul>
</li>
</ul>
<p>Inherited Components:</p>
<p>This class inherits the following components from <code>MessagingProgram</code>:</p>
<ul>
<li><strong>Messenger:</strong> A component responsible for sending messages and
  heartbeats via a configured communication protocol (HTTP or MQTT).</li>
<li><strong>Message Store:</strong> A database for storing messages before they are sent.</li>
</ul>
<p>This class also inherits the following components from <code>BasicProgram</code>:</p>
<ul>
<li><strong>Audio Recorder:</strong> Records audio clips according to the program's
  configuration.</li>
<li><strong>File Manager:</strong> Manages the storage of audio recordings, including
  saving them to permanent storage and handling temporary files.</li>
<li><strong>Store:</strong> Provides an interface for storing and retrieving metadata
  associated with the program and its recordings.</li>
</ul>
<p>Inherited Tasks:</p>
<p>This program inherits the following tasks from <code>MessagingProgram</code>:</p>
<ul>
<li><strong>Heartbeat Task:</strong> Periodically sends heartbeat messages to indicate
  that the program is running.</li>
<li><strong>Send Messages Task:</strong> Periodically sends messages from the message
  store to the configured messenger.</li>
</ul>
<p>This program also inherits the following tasks from <code>BasicProgram</code>:</p>
<ul>
<li><strong>Audio Recording:</strong>  Records audio at regular intervals, configurable
  through the <code>audio</code> settings in the <code>BasicProgramConfiguration</code> schema.</li>
<li><strong>File Management:</strong>  Periodically performs file management operations,
  such as moving recordings from temporary to permanent storage.</li>
</ul>
<p>Customization:</p>
<p>You can customise the detection process by overriding the following
methods:</p>
<ul>
<li><code>configure_model</code>:  <strong>Required.</strong> Implement this method to configure
  and return an instance of your detection model.</li>
<li><code>get_output_cleaners</code>:  To clean up the model's raw output. Either
  override this method completely or call <code>super().get_output_cleaners()</code>
  to include the default threshold cleaner.</li>
<li><code>get_processing_filters</code>:  To filter recordings before processing.</li>
<li><code>get_message_factories</code>:  To customise the messages generated based on
  detection results.</li>
</ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">acoupi.programs.templates</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">DetectionProgram</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">DetectionProgramConfiguration</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">acoupi.components</span> <span class="kn">import</span> <span class="n">types</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># This import should be replaced with your actual model import</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># This model does not exist in the acoupi package</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="kn">from</span> <span class="nn">acoupi.models</span> <span class="kn">import</span> <span class="n">SimpleBirdModel</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">class</span> <span class="nc">MyBirdDetectionConfiguration</span><span class="p">(</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">DetectionProgramConfiguration</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="p">):</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="c1"># Add any configuration specific to bird detection</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="k">pass</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="k">class</span> <span class="nc">MyBirdDetectionProgram</span><span class="p">(</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="n">DetectionProgram</span><span class="p">[</span><span class="n">MyBirdDetectionConfiguration</span><span class="p">]</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="p">):</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">configuration_schema</span> <span class="o">=</span> <span class="n">MyBirdDetectionConfiguration</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="k">def</span> <span class="nf">configure_model</span><span class="p">(</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">MyBirdDetectionConfiguration</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Model</span><span class="p">:</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>            <span class="n">SimpleBirdModel</span><span class="p">()</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span class="p">)</span>  <span class="c1"># Replace with your actual model</span>
</span></code></pre></div>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.DetectionProgram-attributes">Attributes<a href="#acoupi.programs.templates.DetectionProgram-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.DetectionProgram.model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">model</span><span class="p">:</span> <span class="n">types</span><span class="o">.</span><span class="n">Model</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.DetectionProgram.model" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>The configured detection model instance.</p>
    </div>

</div>

<h5 id="acoupi.programs.templates.DetectionProgram-functions">Functions<a href="#acoupi.programs.templates.DetectionProgram-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.check" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.check" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Check the program's components.</p>
<p>This method performs checks on the program's components, including
the detection model, to ensure they are functioning correctly.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.configure_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">configure_model</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#acoupi.programs.templates.DetectionProgram.configure_model" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Configure the detection model.</p>
<p>This method must be implemented by subclasses to configure and return
an instance of the detection model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.Model" href="../components/#acoupi.components.types.Model">Model</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured detection model instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.create_detection_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_detection_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.create_detection_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Create the detection task.</p>
<p>This method creates the task responsible for running the detection
model and processing its output.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a>[[<a class="autorefs autorefs-internal" title="acoupi.data.Recording" href="../data/#acoupi.data.Recording">Recording</a>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The detection task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>This method uses the <code>generate_detection_task</code> function to create the
detection task. You can override this method to customise the task
creation process.</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.get_message_factories" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_message_factories</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.get_message_factories" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the message factories.</p>
<p>This method can be overridden to define a list of message factories
that will be used to generate messages based on the processed
detection results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3.11/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="acoupi.components.types.MessageBuilder" href="../components/#acoupi.components.types.MessageBuilder">MessageBuilder</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of message factories.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.get_output_cleaners" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_output_cleaners</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.get_output_cleaners" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the model output cleaners.</p>
<p>This method can be overridden to define a list of output cleaners that
will be applied to the model's raw output to clean it up or extract
relevant information. By default, it includes a threshold cleaner that
filters out detections below a specified threshold.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3.11/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="acoupi.components.types.ModelOutputCleaner" href="../components/#acoupi.components.types.ModelOutputCleaner">ModelOutputCleaner</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of model output cleaners.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.get_processing_filters" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_processing_filters</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.get_processing_filters" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the processing filters.</p>
<p>This method can be overridden to define a list of processing filters
that will be applied to each recording <em>before</em> it is processed by the
model. These filters determine whether a recording should be processed
at all.</p>
<p>This can be useful to avoid unnecessary model processing when it is not
required by the context or based on simple heuristics on the recording
content. Model processing can be computationally expensive, so it is
beneficial to avoid it if possible.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3.11/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-internal" title="acoupi.components.types.ProcessingFilter" href="../components/#acoupi.components.types.ProcessingFilter">ProcessingFilter</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of processing filters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.get_recording_callbacks" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_recording_callbacks</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.get_recording_callbacks" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Get the recording callbacks.</p>
<p>This method adds the detection task as a callback to be executed
after each recording is completed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><span title="acoupi.programs.templates.detection.C">C</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The program's configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3.11/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of recording callbacks, including the detection task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.get_required_models" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_required_models</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.get_required_models" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.on_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_end</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.on_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Handle program end event.</p>
<p>This method is called when the program ends. It updates the
deployment information in the metadata store, and ensure that
remaining tasks are completed before the program is stopped.</p>
<p>Tasks to check are:
- file_management_task (if implemented). Check if there are remaining
files in the temporary directory and move them to the correct directory.
- detection_task (if implemented). Check if there are remaining files
to be processed and process them.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.DetectionProgram.setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.DetectionProgram.setup" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Set up the Detection Program.</p>
<p>This method initialises the detection model and performs any
necessary setup.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.DetectionProgramConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>DetectionProgramConfiguration</code>


<a href="#acoupi.programs.templates.DetectionProgramConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="acoupi.programs.templates.messaging.MessagingProgramConfiguration" href="#acoupi.programs.templates.MessagingProgramConfiguration">MessagingProgramConfiguration</a></code></p>


        <p>Detection Program Configuration schema.</p>
<p>This schema extends the <code>MessagingProgramConfiguration</code> to include any
additional settings required for detection programs.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.DetectionProgramConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.DetectionProgramConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.DetectionProgramConfiguration.detections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">detections</span><span class="p">:</span> <span class="n">DetectionsConfiguration</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">DetectionsConfiguration</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.DetectionProgramConfiguration.detections" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Detection settings.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.DetectionsConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>DetectionsConfiguration</code>


<a href="#acoupi.programs.templates.DetectionsConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Detection settings schema.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.DetectionsConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.DetectionsConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.DetectionsConfiguration.threshold" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.DetectionsConfiguration.threshold" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Detections with a score below this threshold will be ignored.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.MessagingConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>MessagingConfig</code>


<a href="#acoupi.programs.templates.MessagingConfig" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Messaging configuration schema.</p>
<p>This schema defines the configuration for messaging components, including
the message store, message sending interval, heartbeat interval, and
messenger configurations (HTTP or MQTT).</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.MessagingConfig-attributes">Attributes<a href="#acoupi.programs.templates.MessagingConfig-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingConfig.heartbeat_interval" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">heartbeat_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingConfig.heartbeat_interval" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Interval between sending heartbeats in seconds.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingConfig.http" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">http</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">messengers</span><span class="o">.</span><span class="n">HTTPConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingConfig.http" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>HTTP messenger configuration.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingConfig.message_send_interval" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">message_send_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingConfig.message_send_interval" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Interval between sending messages in seconds.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingConfig.messages_db" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">messages_db</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">'storages'</span> <span class="o">/</span> <span class="s1">'messages.db'</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingConfig.messages_db" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Path to the message database.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingConfig.mqtt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">mqtt</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">messengers</span><span class="o">.</span><span class="n">MQTTConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingConfig.mqtt" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>MQTT messenger configuration.</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.MessagingProgram" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>              <code class="highlight language-python"><span class="n">MessagingProgram</span><span class="p">(</span><span class="n">program_config</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="acoupi.programs.templates.basic.BasicProgram" href="#acoupi.programs.templates.BasicProgram">BasicProgram</a>[<span title="acoupi.programs.templates.messaging.ProgramConfig">ProgramConfig</span>]</code></p>


        <p>Messaging Acoupi Program.</p>
<p>This class extends the <code>BasicProgram</code> to provide functionality for
sending messages and heartbeats with a configured messenger (HTTP or MQTT).</p>
<p>Components:</p>
<ul>
<li><strong>Messenger:</strong> A component responsible for sending messages and
  heartbeats via a configured communication protocol (HTTP or MQTT).</li>
<li><strong>Message Store:</strong> A database for storing messages before they are sent.</li>
</ul>
<p>Tasks:</p>
<p>Using the components above, this class creates and manages the following
tasks:</p>
<ul>
<li><strong>Heartbeat Task:</strong> Periodically sends heartbeat messages to indicate
  that the program is running.</li>
<li><strong>Send Messages Task:</strong> Periodically sends messages from the message
  store to the configured messenger.</li>
</ul>
<p>This program includes all the functionality of
<a class="autorefs autorefs-internal" href="#acoupi.programs.templates.BasicProgram"><code>BasicProgram</code></a>, inheriting its
components and tasks for audio recording, metadata storage, and file
management.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.MessagingProgram-attributes">Attributes<a href="#acoupi.programs.templates.MessagingProgram-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingProgram.message_store" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">message_store</span><span class="p">:</span> <span class="n">types</span><span class="o">.</span><span class="n">MessageStore</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingProgram.message_store" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>The configured message store instance.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingProgram.messenger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">messenger</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">Messenger</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingProgram.messenger" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>The configured messenger instance.</p>
    </div>

</div>

<h5 id="acoupi.programs.templates.MessagingProgram-functions">Functions<a href="#acoupi.programs.templates.MessagingProgram-functions" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.check" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">check</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.check" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Check the messenger connection.</p>
<p>This method checks the connection to the configured messenger
(HTTP or MQTT).</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.configure_message_store" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">configure_message_store</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.configure_message_store" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Configure the message store.</p>
<p>This method creates and configures an instance of the
<code>SqliteMessageStore</code> based on the provided configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.MessageStore" href="../components/#acoupi.components.types.MessageStore">MessageStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured message store instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.configure_messenger" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">configure_messenger</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.configure_messenger" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Configure the messenger.</p>
<p>This method creates and configures an instance of the
<code>HTTPMessenger</code> or <code>MQTTMessenger</code> based on the provided
configuration.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="acoupi.components.types.Messenger" href="../components/#acoupi.components.types.Messenger">Messenger</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured messenger instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3.11/library/exceptions.html#ValueError">ValueError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no messenger configuration is provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.create_heartbeat_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_heartbeat_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.create_heartbeat_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Create the heartbeat task.</p>
<p>This method creates the task responsible for sending heartbeats.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The heartbeat task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.create_messaging_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_messaging_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.create_messaging_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Create the messaging task.</p>
<p>This method creates the task responsible for sending messages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3.11/library/typing.html#typing.Callable">Callable</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The messaging task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.on_end" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">on_end</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.on_end" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>End a deployment.</p>
<p>This method is called when the program is stopped. It updates the
deployment information in the metadata store, and ensure and performs
any necessary cleanup tasks (i.e., file_management_task, messaging_task).</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.register_heartbeat_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">register_heartbeat_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.register_heartbeat_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Register the heartbeat task.</p>
<p>This method registers the heartbeat task with the program's scheduler.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.register_messaging_task" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">register_messaging_task</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.register_messaging_task" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Register the messaging task.</p>
<p>This method registers the messaging task with the program's scheduler.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.setup" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Set up the Messaging Program.</p>
<p>This method initialises the message store and messenger, registers
the messaging and heartbeat tasks, and performs any necessary setup.</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="acoupi.programs.templates.MessagingProgram.validate_dirs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">validate_dirs</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#acoupi.programs.templates.MessagingProgram.validate_dirs" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Validate the directories used by the program.</p>
<p>This method ensures that the necessary directories for storing audio
and metadata exist. If they don't, it creates them.</p>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.MessagingProgramConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>MessagingProgramConfiguration</code>


<a href="#acoupi.programs.templates.MessagingProgramConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="acoupi.programs.templates.basic.BasicProgramConfiguration" href="#acoupi.programs.templates.BasicProgramConfiguration">BasicProgramConfiguration</a></code></p>


        <p>Messaging Program Configuration schema.</p>
<p>This schema extends the <code>BasicProgramConfiguration</code> to include settings
for messaging functionality.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.MessagingProgramConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.MessagingProgramConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.MessagingProgramConfiguration.messaging" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">messaging</span><span class="p">:</span> <span class="n">MessagingConfig</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.MessagingProgramConfiguration.messaging" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="acoupi.programs.templates.PathsConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>PathsConfiguration</code>


<a href="#acoupi.programs.templates.PathsConfiguration" class="headerlink" title="Permanent link">#</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Data configuration schema.</p>




  <div class="doc doc-children">





<h5 id="acoupi.programs.templates.PathsConfiguration-attributes">Attributes<a href="#acoupi.programs.templates.PathsConfiguration-attributes" class="headerlink" title="Permanent link">#</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.PathsConfiguration.db_metadata" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">db_metadata</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">'storages'</span> <span class="o">/</span> <span class="s1">'metadata.db'</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.PathsConfiguration.db_metadata" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Path to the metadata database.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.PathsConfiguration.recordings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">recordings</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">'storages'</span> <span class="o">/</span> <span class="s1">'recordings'</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.PathsConfiguration.recordings" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Directory for storing audio files permanently.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="acoupi.programs.templates.PathsConfiguration.tmp_audio" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">tmp_audio</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">get_temp_dir</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#acoupi.programs.templates.PathsConfiguration.tmp_audio" class="headerlink" title="Permanent link">#</a></h6>


    <div class="doc doc-contents ">

        <p>Temporary directory for storing audio files.</p>
    </div>

</div>





  </div>

    </div>

</div>




  </div>

    </div>

</div></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../tasks/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Tasks">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Tasks
              </div>
            </div>
          </a>
        
        
          
          <a href="../system/" class="md-footer__link md-footer__link--next" aria-label="Next: System">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                System
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tracking", "navigation.indexes", "navigation.sections", "navigation.top", "navigation.footer", "toc.follow"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>